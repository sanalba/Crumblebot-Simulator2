(function(_0xc11f7d,_0x3f7269){const _0x5d5129=a0_0x19cd,_0x22f54c=_0xc11f7d();while(!![]){try{const _0x204bf3=-parseInt(_0x5d5129(0x15a))/0x1*(-parseInt(_0x5d5129(0x133))/0x2)+parseInt(_0x5d5129(0x17f))/0x3*(-parseInt(_0x5d5129(0x14f))/0x4)+-parseInt(_0x5d5129(0x125))/0x5*(parseInt(_0x5d5129(0x129))/0x6)+-parseInt(_0x5d5129(0x104))/0x7*(parseInt(_0x5d5129(0x174))/0x8)+parseInt(_0x5d5129(0x14c))/0x9+-parseInt(_0x5d5129(0x163))/0xa*(parseInt(_0x5d5129(0x149))/0xb)+parseInt(_0x5d5129(0x141))/0xc;if(_0x204bf3===_0x3f7269)break;else _0x22f54c['push'](_0x22f54c['shift']());}catch(_0x292851){_0x22f54c['push'](_0x22f54c['shift']());}}}(a0_0x21c4,0x4e44e));let appLista=![];function a0_0x19cd(_0x1d31ee,_0x39851e){_0x1d31ee=_0x1d31ee-0xfd;const _0x21c49a=a0_0x21c4();let _0x19cdf6=_0x21c49a[_0x1d31ee];return _0x19cdf6;}function mousePressed(){if(mouseButton===LEFT)handleLeftClick(mouseX,mouseY);else mouseButton===RIGHT&&handleRightClick(mouseX,mouseY);return![];}function touchStarted(){const _0x4fcd8a=a0_0x19cd;if(touches[_0x4fcd8a(0x12f)]===0x0)return!![];const _0xa1f9dc=touches[0x0],_0x49d74b=document[_0x4fcd8a(0x178)](_0x4fcd8a(0x156)),_0x209ff6=document[_0x4fcd8a(0x112)]('menu-bar');if(!_0x49d74b||!_0x209ff6)return!![];const _0x3c2b22=_0x49d74b['getBoundingClientRect'](),_0x85bf96=_0x209ff6[_0x4fcd8a(0x132)]();console[_0x4fcd8a(0x100)](_0x4fcd8a(0x15c),{'touchX':_0xa1f9dc['x'],'touchY':_0xa1f9dc['y'],'canvasRect':{'left':_0x3c2b22[_0x4fcd8a(0x105)],'top':_0x3c2b22[_0x4fcd8a(0x136)],'right':_0x3c2b22['right'],'bottom':_0x3c2b22[_0x4fcd8a(0x10a)]}});if(_0xa1f9dc['y']>=_0x85bf96[_0x4fcd8a(0x136)]&&_0xa1f9dc['y']<=_0x85bf96['bottom'])return console[_0x4fcd8a(0x100)](_0x4fcd8a(0x161)),!![];if(_0xa1f9dc['x']>=_0x3c2b22[_0x4fcd8a(0x105)]&&_0xa1f9dc['x']<=_0x3c2b22['right']&&_0xa1f9dc['y']>=_0x3c2b22[_0x4fcd8a(0x136)]&&_0xa1f9dc['y']<=_0x3c2b22['bottom']){const _0x59a65b=_0xa1f9dc['x']-_0x3c2b22[_0x4fcd8a(0x105)],_0x26b5e7=_0xa1f9dc['y']-_0x3c2b22[_0x4fcd8a(0x136)];return console[_0x4fcd8a(0x100)](_0x4fcd8a(0x157),{'absolutas':{'x':_0xa1f9dc['x'],'y':_0xa1f9dc['y']},'relativas':{'x':_0x59a65b,'y':_0x26b5e7},'dentro':!![]}),handleLeftClick(_0x59a65b,_0x26b5e7+ALTURA_MENU),![];}return console[_0x4fcd8a(0x100)](_0x4fcd8a(0x109)),!![];}function handleLeftClick(_0x19698a,_0x5dfaa9){const _0x256172=a0_0x19cd;if(!appLista)return;if(bloqueEditando!==null&&!colorPickerOpen)cerrarEdicionTexto();pixel=get(_0x19698a,_0x5dfaa9);if(pixel[0x0]==0xfe&&pixel[0x1]==0xfe&&pixel[0x2]==0xfe){if(modo==0x4){panningCodigo=!![],panStartCodigoX=_0x19698a,panStartCodigoY=_0x5dfaa9;return;}else{if(modo==0x3){panningConfiguracion=!![],panStartConfiguracionX=_0x19698a,panStartConfiguracionY=_0x5dfaa9;return;}}}transformedXbasico=_0x19698a/escalaBase,transformedYbasico=_0x5dfaa9/escalaBase,console[_0x256172(0x100)](windowWidth,'\x20\x20\x20',windowHeight),console[_0x256172(0x100)](transformedXbasico,_0x256172(0x17a),transformedYbasico),console[_0x256172(0x100)](xBoton[0x6]);for(let _0x428597=0x3;_0x428597<numBotones-0x2;_0x428597++){if(transformedXbasico>xBoton[_0x428597]-boton[_0x428597]['width']/0x2&&transformedXbasico<xBoton[_0x428597]+boton[_0x428597]['width']/0x2&&transformedYbasico>yBoton[_0x428597]-boton[_0x428597][_0x256172(0x151)]/0x2&&transformedYbasico<yBoton[_0x428597]+boton[_0x428597][_0x256172(0x151)]/0x2){if(modo!==_0x428597){modo=_0x428597,crearMenuSuperior();return;}}}for(let _0x2999f7=0x6;_0x2999f7<0x8;_0x2999f7++){if(_0x19698a>windowWidth-(xBoton[_0x2999f7]+ANCHO_BOTON/0x2)*escalaBase&&_0x19698a<windowWidth-(xBoton[_0x2999f7]-ANCHO_BOTON/0x2)*escalaBase&&_0x5dfaa9>(yBoton[_0x2999f7]-ANCHO_BOTON/0x2)*escalaBase&&_0x5dfaa9<(yBoton[_0x2999f7]+ANCHO_BOTON/0x2)*escalaBase){if(_0x2999f7==0x6)zoom(-0.25);else zoom(0.25);return;}}for(let _0xa225b0=0x0;_0xa225b0<0x3;_0xa225b0++){if(transformedXbasico>xBoton[_0xa225b0]-ANCHO_BOTON/0x2&&transformedXbasico<xBoton[_0xa225b0]+ANCHO_BOTON/0x2&&transformedYbasico>yBoton[_0xa225b0]-ANCHO_BOTON/0x2&&transformedYbasico<yBoton[_0xa225b0]+ANCHO_BOTON/0x2){robot[_0x256172(0x14a)]&&(radio=0x0,bufferEfectos['clear']());if(_0xa225b0===0x0&&!ejecutando&&(modo==0x3||modo==0x5))primerPlay==![]&&(primerPlay=!![],userStartAudio(),osc['start'](),osc[_0x256172(0x16d)](0x0)),botonPlay();else{if(_0xa225b0===0x1&&ejecutando)osc[_0x256172(0x16d)](0x0),botonStop();else _0xa225b0===0x2&&(osc['amp'](0x0),botonReiniciar());}return;}}if(modo==0x5){if(ejecutando){if(distanciaAlCuadrado(_0x19698a,_0x5dfaa9,windowWidth-0xcd,windowHeight/0x2-0x28)<0x64){elemento[0x4][_0x256172(0x168)]=0xff;return;}else{if(distanciaAlCuadrado(_0x19698a,_0x5dfaa9,windowWidth-0x7d,windowHeight/0x2-0x28)<0x64){elemento[0x6]['valorElemento']=0xff;return;}}}else{if(!ejecutando){transformedX=(_0x19698a-windowWidth/0x2)/(zoomSimulacion*escalaBase)-panSimulacionX,transformedY=(_0x5dfaa9-windowHeight/0x2)/(zoomSimulacion*escalaBase)-panSimulacionY,transformedObstaculoX=(_0x19698a-windowWidth/0x2)/(zoomSimulacion*escalaBase)-panSimulacionX+robotFisico['body']['position']['x'],transformedObstaculoY=(_0x5dfaa9-windowHeight/0x2)/(zoomSimulacion*escalaBase)-panSimulacionY+robotFisico[_0x256172(0x120)]['position']['y'],transformedXbasico=(_0x19698a-windowWidth/0x2)/escalaBase,transformedYbasico=(_0x5dfaa9-0x0)/escalaBase;if(transformedXbasico>-0x5a-0x50&&transformedXbasico<-0x5a+0x50&&transformedYbasico>0x4b&&transformedYbasico<0x69){let _0x4efc95=new Obstaculo(transformedX+robotFisico[_0x256172(0x120)][_0x256172(0x16a)]['x'],transformedY+robotFisico[_0x256172(0x120)][_0x256172(0x16a)]['y'],0x50,0x50,0x0,![]);obstaculo[_0x256172(0x15f)](_0x4efc95),offsetX=_0x4efc95[_0x256172(0x120)]['position']['x']-transformedX,offsetY=_0x4efc95[_0x256172(0x120)]['position']['y']-transformedY,RectX=_0x4efc95[_0x256172(0x120)][_0x256172(0x16a)]['x'],RectY=_0x4efc95[_0x256172(0x120)][_0x256172(0x16a)]['y'],obstaculoSeleccionado=null,obstaculoDesplazando=_0x4efc95,robotSeleccionado=null,movidoDuranteEjecucion=!![];return;}if(transformedXbasico>0x5a-0x50&&transformedXbasico<0x5a+0x50&&transformedYbasico>0x4b&&transformedYbasico<0x69){let _0x5f4fcd=new Obstaculo(transformedX+robotFisico[_0x256172(0x120)][_0x256172(0x16a)]['x'],transformedY+robotFisico[_0x256172(0x120)]['position']['y'],0x50,0x50,0x0,!![]);obstaculo[_0x256172(0x15f)](_0x5f4fcd),offsetX=_0x5f4fcd[_0x256172(0x120)][_0x256172(0x16a)]['x']-transformedX,offsetY=_0x5f4fcd[_0x256172(0x120)][_0x256172(0x16a)]['y']-transformedY,RectX=_0x5f4fcd[_0x256172(0x120)][_0x256172(0x16a)]['x'],RectY=_0x5f4fcd['body']['position']['y'],obstaculoSeleccionado=null,obstaculoDesplazando=_0x5f4fcd,robotSeleccionado=null,movidoDuranteEjecucion=!![];return;}if(obstaculoSeleccionado!=null){startEnsancharX=mouseX,startEnsancharY=mouseY,obstaculoSeleccionado[_0x256172(0x169)]=obstaculoSeleccionado['colision']();if(obstaculoSeleccionado[_0x256172(0x169)]>0x0&&obstaculoSeleccionado['modoTransformacion']<0x6){obstaculoSeleccionado['body'][_0x256172(0x10f)]=!![];if(obstaculoSeleccionado[_0x256172(0x169)]==0x1){let _0x467ff2=atan2(transformedObstaculoY-obstaculoSeleccionado[_0x256172(0x120)][_0x256172(0x16a)]['y'],transformedObstaculoX-obstaculoSeleccionado[_0x256172(0x120)][_0x256172(0x16a)]['x']);offsetAngulo=_0x467ff2-obstaculoSeleccionado[_0x256172(0x120)][_0x256172(0x11b)],obstaculoSeleccionado[_0x256172(0x120)][_0x256172(0x10f)]=!![];}}else obstaculoSeleccionado['body'][_0x256172(0x10f)]=obstaculoSeleccionado['estatico'],obstaculoSeleccionado=null;return;}for(let _0x58d95e of obstaculo){if(_0x58d95e[_0x256172(0x12c)]()==0x6){if(Crono>0x0)movidoDuranteEjecucion=!![];offsetX=_0x58d95e['body'][_0x256172(0x16a)]['x']-transformedX,offsetY=_0x58d95e[_0x256172(0x120)][_0x256172(0x16a)]['y']-transformedY,obstaculoDesplazando=_0x58d95e,RectX=obstaculoDesplazando[_0x256172(0x120)][_0x256172(0x16a)]['x'],RectY=obstaculoDesplazando['body'][_0x256172(0x16a)]['y'],obstaculoSeleccionado=null,movidoDuranteEjecucion=!![];return;}}resultadoSeleccion=robotFisico[_0x256172(0x12c)]();if(robotSeleccionado){obstaculoSeleccionado=null;if(resultadoSeleccion==0x1){let _0x169afd=atan2(transformedY,transformedX);offsetAngulo=_0x169afd-robotFisico[_0x256172(0x120)]['angle'];return;}else{if(resultadoSeleccion==0x0){robotSeleccionado=![];return;}}}if(resultadoSeleccion==0x2){desplazandoRobot=!![],robotFisico['body'][_0x256172(0x10f)]=!![],robotSeleccionado=![],offsetX=robotFisico[_0x256172(0x120)]['position']['x']-transformedX,offsetY=robotFisico['body'][_0x256172(0x16a)]['y']-transformedY,CrumblebotAnteriorX=robotFisico[_0x256172(0x120)][_0x256172(0x16a)]['x'],CrumblebotAnteriorY=robotFisico[_0x256172(0x120)][_0x256172(0x16a)]['y'],CrumX=robotFisico[_0x256172(0x120)][_0x256172(0x16a)]['x'],CrumY=robotFisico[_0x256172(0x120)]['position']['y'];return;}}}if(_0x19698a>windowWidth/0x2-bulb[_0x256172(0x122)]/0x2*escalaBase&&_0x19698a<windowWidth/0x2+bulb[_0x256172(0x122)]/0x2*escalaBase&&_0x5dfaa9>windowHeight-(bulb[_0x256172(0x151)]*1.5+bulb[_0x256172(0x151)]/0x2)*escalaBase&&_0x5dfaa9<windowHeight-(bulb[_0x256172(0x151)]*1.5-bulb[_0x256172(0x151)]/0x2)*escalaBase){bulbX=windowWidth/0x2-robotFisico[_0x256172(0x120)]['position']['x'],bulbY=windowHeight-bulb[_0x256172(0x151)]*1.5-robotFisico[_0x256172(0x120)][_0x256172(0x16a)]['y'],offsetX=bulbX-transformedXbasico,offsetY=bulbY-transformedYbasico,desplazandoBulb=!![];return;}else!ejecutando&&(panningSimulacion=!![],panStartSimulacionX=_0x19698a,panStartSimulacionY=_0x5dfaa9);return;}else{if(modo==0x4){if(colorPickerOpen&&bloqueEditando){mouseColorX=(_0x19698a-windowWidth/0x2)/escalaBase+ANCHO_MARCO/0x2,mouseColorY=(_0x5dfaa9-windowHeight/0x2)/escalaBase+ALTO_MARCO/0x2;let _0x269902=_0x19698a-(windowWidth/0x2-ANCHO_MARCO/0x2*escalaBase),_0x4fe4d0=_0x5dfaa9-(windowHeight/0x2-ALTO_MARCO/0x2*escalaBase),_0x52c835=_0x269902/escalaBase,_0x372a71=_0x4fe4d0/escalaBase;if(mouseColorX>=PICKER_X&&mouseColorX<=PICKER_X+ANCHO_PICKER&&mouseColorY>=PICKER_Y-ALTO_PICKER&&mouseColorY<=PICKER_Y){hue=map(mouseColorX-PICKER_X,0x0,ANCHO_PICKER,0x0,0xef),saturation=map(PICKER_Y-mouseColorY,0x0,ALTO_PICKER,0x0,0xf0),currentColor=HSBtoRGB(hue,saturation,getBrightness(currentColor)),updateColor();return;}let _0x39eec5=PICKER_X+ANCHO_PICKER+0xa;if(mouseColorX>=_0x39eec5&&mouseColorX<=_0x39eec5+0xa&&mouseColorY>=PICKER_Y-ALTO_PICKER&&mouseColorY<=PICKER_Y){brightness=map(PICKER_Y-mouseColorY,0x0,ALTO_PICKER,0x0,0xf0),currentColor=HSBtoRGB(getHue(currentColor),getSaturation(currentColor),brightness),updateColor();return;}if(_0x52c835>0xa&&_0x52c835<0xcd&&_0x372a71>0xfa&&_0x372a71<0x10e){customColorActivo=!customColorActivo;return;}if(_0x52c835>0xa&&_0x52c835<0x64&&_0x372a71>0x118&&_0x372a71<0x12c){colorPickerOpen=![],bloqueEditando['dato'][subBloqueEditando]=colorAHex(currentColor),console[_0x256172(0x100)](bloqueEditando[_0x256172(0x16b)][subBloqueEditando]),bloqueEditando=null;return;}if(_0x52c835>0x73&&_0x52c835<0xcd&&_0x372a71>0x118&&_0x372a71<0x12c){colorPickerOpen=![],bloqueEditando=null;return;}if(_0x52c835>0xa&&_0x52c835<0xd2&&_0x372a71>0x28&&_0x372a71<0xa0){let _0x469660=int((_0x52c835-0xa)/0x19),_0x36ba02=int((_0x372a71-0x28)/0x14);_0x469660>=0x0&&_0x469660<0x8&&_0x36ba02>=0x0&&_0x36ba02<0x6&&(BASIC_COLORSeleccionado=_0x36ba02*0x8+_0x469660,currentColor=BASIC_COLOR[BASIC_COLORSeleccionado],updateColor());return;}if(_0x52c835>0xa&&_0x52c835<0xd2&&_0x372a71>0xc8&&_0x372a71<0xf0){let _0x1327f2=int((_0x52c835-0xa)/0x19),_0x5d7d32=int((_0x372a71-0xc8)/0x14);_0x1327f2>=0x0&&_0x1327f2<0x8&&_0x5d7d32>=0x0&&_0x5d7d32<0x2&&(customColorSeleccionado=_0x5d7d32*0x8+_0x1327f2,customColor[customColorSeleccionado]&&(currentColor=customColor[customColorSeleccionado],updateColor()));return;}if(customColorActivo&&_0x52c835>PICKER_X&&_0x52c835<PICKER_X+ANCHO_PICKER&&_0x372a71>PICKER_Y-ALTO_PICKER&&_0x372a71<PICKER_Y){hue=map(_0x52c835-PICKER_X,0x0,ANCHO_PICKER,0x0,0xef),saturation=map(PICKER_Y-_0x372a71,0x0,ALTO_PICKER,0x0,0xf0),currentColor=HSBtoRGB(hue,saturation,brightness),updateColor();return;}if(customColorActivo&&_0x52c835>PICKER_X+ANCHO_PICKER+0xa&&_0x52c835<PICKER_X+ANCHO_PICKER+0x14&&_0x372a71>PICKER_Y-ALTO_PICKER&&_0x372a71<PICKER_Y){brightness=map(PICKER_Y-_0x372a71,0x0,ALTO_PICKER,0x0,0xf0),currentColor=HSBtoRGB(hue,saturation,brightness),updateColor();return;}if(customColorActivo&&_0x52c835>PICKER_X&&_0x52c835<PICKER_X+ANCHO_PICKER+0x14&&_0x372a71>0x118&&_0x372a71<0x12c){if(customColorSeleccionado<0x10)customColor[customColorSeleccionado]=currentColor,console[_0x256172(0x100)](_0x256172(0x150));else for(let _0x37957b=0x0;_0x37957b<customColor[_0x256172(0x12f)];_0x37957b++){if(!customColor[_0x37957b]){customColor[_0x37957b]=currentColor,customColorSeleccionado=_0x37957b;break;}}return;}return;}else transformedX=(_0x19698a-windowWidth/0x2)/(zoomCodigo*escalaBase)-panCodigoX,transformedY=(_0x5dfaa9-windowHeight/0x2)/(zoomCodigo*escalaBase)-panCodigoY;pixel[0x0]==0xcd&&pixel[0x1]==0xcd&&pixel[0x2]==0xcd&&_0x5dfaa9>ALTO_MENU_SUPERIOR&&altoMenu[menu]>windowHeight&&(panningMenuBloques=!![],console[_0x256172(0x100)]('menu'),panStartMenuBloquesY=_0x5dfaa9);if(bloqueSeleccionado!==null&&desplegableBloque){if(_0x19698a>xDesplegable+0xa*escalaBase&&_0x19698a<xDesplegable+0xc8*escalaBase&&_0x5dfaa9>yDesplegable&&_0x5dfaa9<yDesplegable+0x19*escalaBase){let _0x16d0c8;bloquesVirtuales=[];for(let _0x79a821 of bloquesSeleccionados){_0x16d0c8=_0x79a821[_0x256172(0x12a)](),bloquesVirtuales[_0x256172(0x15f)](_0x16d0c8);}for(let _0x2918d1=0x0;_0x2918d1<bloquesSeleccionados[_0x256172(0x12f)];_0x2918d1++){bloquesSeleccionados[_0x2918d1][_0x256172(0x131)]===-0x1?bloquesVirtuales[_0x2918d1][_0x256172(0x172)]=null:bloquesVirtuales[_0x2918d1][_0x256172(0x172)]=bloquesVirtuales[bloquesSeleccionados[_0x2918d1][_0x256172(0x131)]],bloquesSeleccionados[_0x2918d1][_0x256172(0x167)]===-0x1?bloquesVirtuales[_0x2918d1][_0x256172(0x118)]=null:bloquesVirtuales[_0x2918d1][_0x256172(0x118)]=bloquesVirtuales[bloquesSeleccionados[_0x2918d1][_0x256172(0x167)]],bloquesSeleccionados[_0x2918d1][_0x256172(0x101)]===-0x1?bloquesVirtuales[_0x2918d1]['padre']=null:bloquesVirtuales[_0x2918d1][_0x256172(0x14b)]=bloquesVirtuales[bloquesSeleccionados[_0x2918d1][_0x256172(0x101)]],bloquesSeleccionados[_0x2918d1][_0x256172(0x144)]===-0x1?bloquesVirtuales[_0x2918d1]['bucleSiguiente']=null:bloquesVirtuales[_0x2918d1]['bucleSiguiente']=bloquesVirtuales[bloquesSeleccionados[_0x2918d1][_0x256172(0x144)]],bloquesSeleccionados[_0x2918d1][_0x256172(0x131)]=-0x1,bloquesSeleccionados[_0x2918d1][_0x256172(0x167)]=-0x1,bloquesSeleccionados[_0x2918d1][_0x256172(0x101)]=-0x1,bloquesSeleccionados[_0x2918d1][_0x256172(0x144)]=-0x1;}for(let _0x53eafc=0x0;_0x53eafc<bloquesVirtuales['length'];_0x53eafc++){bloquesVirtuales[_0x53eafc][_0x256172(0x131)]=-0x1,bloquesVirtuales[_0x53eafc][_0x256172(0x167)]=-0x1,bloquesVirtuales[_0x53eafc][_0x256172(0x101)]=-0x1,bloquesVirtuales[_0x53eafc]['bucleSiguienteClon']=-0x1,codigo['push'](bloquesVirtuales[_0x53eafc]),bloquesVirtuales[_0x53eafc][_0x256172(0x123)]();}desplegableBloque=![];return;}if(_0x19698a>xDesplegable+0xa*escalaBase&&_0x19698a<xDesplegable+0xc8*escalaBase&&_0x5dfaa9>yDesplegable+0x19*escalaBase&&_0x5dfaa9<yDesplegable+0x32*escalaBase){eliminarBloques(),bloquesSeleccionados=[],desplegableBloque=![];return;}}desplegableBloque=![];for(let _0x2e4df5=0x0;_0x2e4df5<codigoCategoria[_0x256172(0x12f)];_0x2e4df5++){if(codigoCategoria[_0x2e4df5][_0x256172(0x12c)](transformedXbasico,transformedYbasico,!![])!==null){menu=_0x2e4df5,panMenuBloquesY=0x0;return;}}let _0x875b43=_0x5dfaa9/escalaBase;if(transformedXbasico>0x0&&transformedXbasico<anchoRect&&transformedYbasico>ALTO_COMIENZO_BLOQUES&&transformedYbasico<altoMenu[menu]){_0x875b43=_0x5dfaa9/escalaBase-panMenuBloquesY;for(let _0x5511ca of codigoMenu){if(_0x5511ca[_0x256172(0x11f)]===menu){_0x5511ca[_0x256172(0x13d)]=='_'?bloqueSeleccionado=_0x5511ca['contienePunto'](transformedXbasico,_0x875b43):bloqueSeleccionado=_0x5511ca[_0x256172(0x12c)](transformedXbasico,_0x875b43);if(bloqueSeleccionado!=null){if(_0x5511ca['nombre']===_0x256172(0x13a)&&menu==0x3){crearVariable(_0x256172(0x108)),bloqueSeleccionado=null;return;}else{let _0x270378=_0x5511ca['id'];offsetX=_0x5511ca['x']-transformedXbasico,offsetY=_0x5511ca['y']-_0x875b43;let _0x1fd474=new Bloque((transformedX+offsetX)/zoomCodigo,(transformedY+offsetY)/zoomCodigo,menu,_0x270378,t[menu][_0x270378],![],!![]);codigo[_0x256172(0x15f)](_0x1fd474);if(_0x5511ca[_0x256172(0x142)]===_0x256172(0x16c)){let _0x4deb1a=new Bloque(_0x5511ca['x'],_0x5511ca['y'],menu,_0x270378+0x1,t[menu][_0x270378+0x1],![],!![]);codigo['push'](_0x4deb1a),codigo[codigo[_0x256172(0x12f)]-0x1][_0x256172(0x172)]=codigo[codigo[_0x256172(0x12f)]-0x2],cont++,codigo[codigo[_0x256172(0x12f)]-0x2]['siguiente']=codigo[codigo[_0x256172(0x12f)]-0x1],bloqueSeleccionado=codigo[codigo['length']-0x2];}else bloqueSeleccionado=codigo[codigo[_0x256172(0x12f)]-0x1];bloqueSeleccionado['calcularVerticesBloque'](),bloqueSeleccionado[_0x256172(0x142)]==='WhenRunBlock'&&(bloquesStart['push'](bloqueSeleccionado),bloqueStartSeleccionado=bloqueSeleccionado,bloqueEjecutando=bloqueSeleccionado),bloqueSeleccionado[_0x256172(0x17c)](),codigo[codigo['length']-0x1][_0x256172(0x171)]=cont,cont++;}panningMenuBloques=![];return;}}}if(menu==0x3){for(let _0x2fee45 of[...codigoVariables]){if(_0x2fee45[_0x256172(0x12c)](transformedXbasico,_0x875b43,!![])!==null){offsetX=_0x2fee45['x']-transformedXbasico,offsetY=_0x2fee45['y']-_0x875b43;let _0x3bb774=new Bloque(transformedX+offsetX,transformedY+offsetY,0x3,0x4,BOTON_VARIABLE,![],!![]);codigo['push'](_0x3bb774),codigo[codigo[_0x256172(0x12f)]-0x1][_0x256172(0x139)][0x0]=_0x2fee45[_0x256172(0x139)][0x0],codigo[codigo[_0x256172(0x12f)]-0x1][_0x256172(0x110)][0x0]=_0x2fee45[_0x256172(0x110)][0x0],codigo[codigo[_0x256172(0x12f)]-0x1][_0x256172(0x145)]=_0x2fee45,bloqueSeleccionado=codigo[codigo[_0x256172(0x12f)]-0x1],bloqueSeleccionado[_0x256172(0x17c)]();return;}}for(let _0xa2e252 of[...botonesVariables]){if(_0xa2e252[_0x256172(0x12c)](transformedXbasico,_0x875b43,!![])!==null&&menu==0x3){if(_0xa2e252[_0x256172(0x165)]){if(_0xa2e252['id']===0x64){let _0x2258f5=botonesVariables[_0x256172(0x140)](_0xa2e252),_0x581ec8=botonesVariables['indexOf'](_0xa2e252['siguiente']);_0x581ec8>-0x1&&botonesVariables[_0x256172(0x103)](_0x581ec8,0x1);for(let _0x54d29b of[...codigo]){let _0x5baab5=_0x54d29b[_0x256172(0x107)](_0xa2e252[_0x256172(0x14b)]);if(_0x5baab5!==null){let _0x546a89=codigo['indexOf'](_0x5baab5);_0x546a89>-0x1&&codigo[_0x256172(0x103)](_0x546a89,0x1);}}let _0x41d23f=codigoVariables['indexOf'](_0xa2e252['padre']);_0x41d23f>-0x1&&codigoVariables[_0x256172(0x103)](_0x41d23f,0x1);let _0x320eb5=botonesVariables[_0x256172(0x140)](_0xa2e252);_0x320eb5>-0x1&&botonesVariables[_0x256172(0x103)](_0x320eb5,0x1);altoMenu[0x3]=altoMenu[0x3]-codigoMenu[codigoMenu['length']-0x1]['grosorTotal']-SEPARACION_BLOQUES_MENU;for(let _0x302707=_0x2258f5;_0x302707<botonesVariables[_0x256172(0x12f)];_0x302707=_0x302707+0x2){botonesVariables[_0x302707]['y']=botonesVariables[_0x302707]['y']-botonesVariables[_0x302707][_0x256172(0x135)]-SEPARACION_BLOQUES_MENU,botonesVariables[_0x302707][_0x256172(0x118)]['y']=botonesVariables[_0x302707]['y'],botonesVariables[_0x302707][_0x256172(0x14b)]['y']=botonesVariables[_0x302707]['y'];}return;}else{if(_0xa2e252['id']===0xc8){bloqueEditando=_0xa2e252[_0x256172(0x14b)],bloqueEditando[_0x256172(0x176)]();return;}}}}}}}for(let _0x307ecc of codigo){_0x307ecc['nombre']!==_0x256172(0x164)&&(_0x307ecc[_0x256172(0x13d)]=='_'?bloqueSeleccionado=_0x307ecc[_0x256172(0x180)](transformedX,transformedY):bloqueSeleccionado=_0x307ecc['colision'](transformedX,transformedY));if(bloqueSeleccionado!=null){offsetX=_0x307ecc['x']-transformedX,offsetY=_0x307ecc['y']-transformedY;if(bloqueSeleccionado['enEscenario']){let _0x8e64f5=bloqueSeleccionado[_0x256172(0x102)](transformedX,transformedY);if(_0x8e64f5!=null)bloqueSeleccionado=_0x8e64f5;else{bloqueSeleccionado=null;return;}}if(bloqueSeleccionado!=null){bloquesSeleccionados=[],bloqueSeleccionado[_0x256172(0x17c)](),offsetX=bloqueSeleccionado['x']-transformedX,offsetY=bloqueSeleccionado['y']-transformedY;if(bloqueEditando!=null)cerrarEdicionTexto();inicioDesplazarBloque=!![],mouseOrigenX=_0x19698a,mouseOrigenY=_0x5dfaa9;}break;}}if(bloqueSeleccionado!==null){bloqueSeleccionado[_0x256172(0x142)]===_0x256172(0x10b)&&(bloqueStartSeleccionado=bloqueSeleccionado,bloqueEjecutando=bloqueSeleccionado);return;}}else{if(modo==0x3){transformedXbasico=(_0x19698a-windowWidth/0x2)/(zoomConfiguracion*escalaBase)-panConfiguracionX,transformedYbasico=(_0x5dfaa9-windowHeight/0x2)/(zoomConfiguracion*escalaBase)-panConfiguracionY;if(distanciaAlCuadrado(transformedXbasico,transformedYbasico,-0x6b,0x10a)<0x64){elemento[0x4][_0x256172(0x168)]=0xff;return;}if(distanciaAlCuadrado(transformedXbasico,transformedYbasico,0xe0,0x21)<0x64){elemento[0x6][_0x256172(0x168)]=0xff;return;}if(transformedYbasico>0x10e&&transformedYbasico<0x118){if(transformedXbasico>0x2d&&transformedXbasico<0x37&&ejecutando){ejecutando&&botonStop();return;}else{if(transformedXbasico>0x50&&transformedXbasico<0x5a&&ejecutando==![]){!ejecutando&&botonPlay();return;}}}for(let _0x1194ca=0x0;_0x1194ca<jumpers[_0x256172(0x12f)];_0x1194ca++){let _0x3dadd8=jumpers[_0x1194ca];jumperSeleccionado=_0x3dadd8[_0x256172(0x173)](transformedXbasico,transformedYbasico);if(jumperSeleccionado!=null)return;}for(let _0x5b76ee=0x0;_0x5b76ee<conector[_0x256172(0x12f)];_0x5b76ee++){let _0x30d9c=conector[_0x5b76ee];conectorSeleccionado=_0x30d9c[_0x256172(0x173)](transformedXbasico,transformedYbasico);if(conectorSeleccionado!=null)return;}if(transformedXbasico>ULTRASONIC_X-ANCHO_ULTRASONIC/0x2&&transformedXbasico<ULTRASONIC_X+ANCHO_ULTRASONIC/0x2&&transformedYbasico>ULTRASONIC_Y-ALTO_ULTRASONIC/0x2&&transformedYbasico<ULTRASONIC_Y+ALTO_ULTRASONIC/0x2&&!robot[_0x256172(0x14a)]){robot['ultrasonidosConectado']=!![];return;}else{if(transformedXbasico>ULTRASONIDOS_X-ANCHO_ULTRASONIDOS/0x2&&transformedXbasico<ULTRASONIDOS_X+ANCHO_ULTRASONIDOS/0x2&&transformedYbasico>ULTRASONIDOS_Y-ALTO_ULTRASONIDOS/0x2&&transformedYbasico<ULTRASONIDOS_Y+ALTO_ULTRASONIDOS/0x2&&robot[_0x256172(0x14a)]){robot[_0x256172(0x14a)]=![];return;}}}else{if(modo==0x6){let _0x258780=_0x19698a/escalaBase,_0x6ac6e1=_0x5dfaa9/escalaBase+offsetYBarra;for(let _0x37d05a=0x0;_0x37d05a<thumbnails[_0x256172(0x12f)];_0x37d05a++){_0x258780>=xPos[_0x37d05a]&&_0x258780<=xPos[_0x37d05a]+anchoThumbnail&&_0x6ac6e1>=yPos[_0x37d05a]&&_0x6ac6e1<=yPos[_0x37d05a]+altoThumbnail&&(indiceTapeteSeleccionado=_0x37d05a,nombreFondo=archivosSVG[_0x37d05a],cargarFondo());}if(totalThumbnailsHeight>windowHeight){let _0x502717=windowWidth-0x28;_0x19698a>=_0x502717&&_0x19698a<=_0x502717+0x14&&_0x5dfaa9>=0x3c&&_0x5dfaa9<=windowHeight-0x28&&(arrastrandoScroll=!![],clickScrollY=_0x5dfaa9,scrollOffsetInicial=offsetYBarra);}indiceTapeteSeleccionado=-0x1;}}}}}function handleRightClick(_0x3435b8,_0x39c900){const _0x56745c=a0_0x19cd;if(modo===0x4){transformedX=(_0x3435b8-windowWidth/0x2)/(zoomCodigo*escalaBase)-panCodigoX,transformedY=(_0x39c900-windowHeight/0x2)/(zoomCodigo*escalaBase)-panCodigoY;for(let _0x284a08 of codigo){if(_0x284a08[_0x56745c(0x142)]!=='ElseBlock'){_0x284a08[_0x56745c(0x13d)]=='_'?bloqueSeleccionado=_0x284a08[_0x56745c(0x180)](transformedX,transformedY):bloqueSeleccionado=_0x284a08['colision'](transformedX,transformedY);if(bloqueSeleccionado!==null){bloqueSeleccionado[_0x56745c(0x17c)](),desplegableBloque=!![],xDesplegable=_0x3435b8,yDesplegable=_0x39c900;return;}}}}}function mouseDragged(){const _0x45f9f5=a0_0x19cd;redraw();if(!appLista)return;if(modo==0x5){if(panningSimulacion){panSimulacionX=constrain(panSimulacionX,-width/0x2,width/0x2),panSimulacionY=constrain(panSimulacionY,-height/0x2,height/0x2),panSimulacionX+=(mouseX-panStartSimulacionX)/(zoomSimulacion*escalaBase),panSimulacionY+=(mouseY-panStartSimulacionY)/(zoomSimulacion*escalaBase),panStartSimulacionX=mouseX,panStartSimulacionY=mouseY;return;}transformedX=(mouseX-windowWidth/0x2)/(zoomSimulacion*escalaBase)-panSimulacionX,transformedY=(mouseY-windowHeight/0x2)/(zoomSimulacion*escalaBase)-panSimulacionY,transformedObstaculoX=transformedX+robotFisico[_0x45f9f5(0x120)][_0x45f9f5(0x16a)]['x'],transformedObstaculoY=transformedY+robotFisico[_0x45f9f5(0x120)][_0x45f9f5(0x16a)]['y'];if(obstaculoSeleccionado!=null){if(obstaculoSeleccionado['modoTransformacion']==0x1)Body[_0x45f9f5(0x137)](obstaculoSeleccionado['body'],atan2(transformedObstaculoY-obstaculoSeleccionado[_0x45f9f5(0x120)][_0x45f9f5(0x16a)]['y'],transformedObstaculoX-obstaculoSeleccionado['body'][_0x45f9f5(0x16a)]['x'])-offsetAngulo);else{let _0x5d497a=(mouseX-startEnsancharX)/(zoomSimulacion*escalaBase),_0x1e886a=(mouseY-startEnsancharY)/(zoomSimulacion*escalaBase),_0x3ed99a=cos(-obstaculoSeleccionado['body'][_0x45f9f5(0x11b)]),_0xa459d5=sin(-obstaculoSeleccionado[_0x45f9f5(0x120)][_0x45f9f5(0x11b)]),_0x40f542=_0x5d497a*_0x3ed99a-_0x1e886a*_0xa459d5,_0x2038c6=_0x5d497a*_0xa459d5+_0x1e886a*_0x3ed99a;if(obstaculoSeleccionado[_0x45f9f5(0x169)]==0x2)obstaculoSeleccionado['ensanchar'](_0x40f542*0x2);else{if(obstaculoSeleccionado[_0x45f9f5(0x169)]==0x3)obstaculoSeleccionado[_0x45f9f5(0x170)](-_0x40f542*0x2);else{if(obstaculoSeleccionado[_0x45f9f5(0x169)]==0x4)obstaculoSeleccionado[_0x45f9f5(0xfd)](_0x2038c6*0x2);else obstaculoSeleccionado[_0x45f9f5(0x169)]==0x5&&obstaculoSeleccionado[_0x45f9f5(0xfd)](-_0x2038c6*0x2);}}startEnsancharX=mouseX,startEnsancharY=mouseY;}return;}else{if(obstaculoDesplazando!=null){RectX=transformedX+offsetX,RectY=transformedY+offsetY;return;}else{if(desplazandoBulb){bulbX=transformedX+offsetX,bulbY=transformedY+offsetY;return;}else{if(robotSeleccionado){if(Crono>0x0)movidoDuranteEjecucion=!![];Body['setAngle'](robotFisico['body'],atan2(transformedY,transformedX)-offsetAngulo);}else{if(desplazandoRobot){movidoDuranteEjecucion=!![],CrumX=transformedX+offsetX,CrumY=transformedY+offsetY;(robotFisico[_0x45f9f5(0x120)]['position']['x']<-anchoMundo/2.5||robotFisico[_0x45f9f5(0x120)][_0x45f9f5(0x16a)]['x']>anchoMundo/2.5||robotFisico[_0x45f9f5(0x120)][_0x45f9f5(0x16a)]['y']<-altoMundo/2.5||robotFisico['body'][_0x45f9f5(0x16a)]['y']>altoMundo/2.5)&&(desplazandoRobot=![],Matter['Body']['setPosition'](robotFisico[_0x45f9f5(0x120)],{'x':0x0,'y':0x0}),mensaje=_0x45f9f5(0x11a),inicioMensaje=millis());return;}}}}}}else{if(modo==0x4){if(panningCodigo&&!colorPickerOpen){panCodigoX=constrain(panCodigoX,-width/0x2,width/0x2),panCodigoY=constrain(panCodigoY,-height/0x2,height/0x2),panCodigoX+=(mouseX-panStartCodigoX)/(zoomCodigo*escalaBase),panCodigoY+=(mouseY-panStartCodigoY)/(zoomCodigo*escalaBase),panStartCodigoX=mouseX,panStartCodigoY=mouseY;return;}else{if(panningMenuBloques){panMenuBloquesY+=(mouseY-panStartMenuBloquesY)/escalaBase,panStartCodigoY=mouseY;let _0x5e38cb=windowHeight-0x2*ALTO_COMIENZO_BLOQUES,_0x5b9c7c=altoMenu[menu]-ALTO_COMIENZO_BLOQUES,_0x5b3b9b=_0x5e38cb-_0x5b9c7c,_0x6f607c=0x0;panMenuBloquesY>_0x6f607c&&(panMenuBloquesY=_0x6f607c);panMenuBloquesY<_0x5b3b9b&&(panMenuBloquesY=_0x5b3b9b);return;}else{if(inicioDesplazarBloque&&(mouseOrigenX!=mouseX||mouseOrigenY!=mouseY)){inicioDesplazarBloque=![];if(bloqueSeleccionado!=null){if(bloqueSeleccionado[_0x45f9f5(0x13d)]=='_')desconectar(bloqueSeleccionado);else{if(bloqueSeleccionado[_0x45f9f5(0x14b)]!=null)for(let _0x108238=0x0;_0x108238<bloqueSeleccionado[_0x45f9f5(0x14b)][_0x45f9f5(0x116)]['length'];_0x108238++){bloqueSeleccionado==bloqueSeleccionado[_0x45f9f5(0x14b)][_0x45f9f5(0x116)][_0x108238]&&(bloqueSeleccionado[_0x45f9f5(0x14b)][_0x45f9f5(0x116)][_0x108238]=null,bloqueSeleccionado['padre']['AxDato'][_0x108238]=bloqueSeleccionado['padre'][_0x45f9f5(0x166)](bloqueSeleccionado[_0x45f9f5(0x14b)]['dato'][_0x108238]),bloqueSeleccionado[_0x45f9f5(0x14b)][_0x45f9f5(0x13c)](),bloqueSeleccionado[_0x45f9f5(0x14b)][_0x45f9f5(0x15e)](),bloqueSeleccionado[_0x45f9f5(0x14b)]['actualizarCoordenadas'](),bloqueSeleccionado[_0x45f9f5(0x14b)][_0x45f9f5(0x123)](),bloqueSeleccionado[_0x45f9f5(0x14b)][_0x45f9f5(0x14b)]!=null&&(bloqueSeleccionado[_0x45f9f5(0x14b)][_0x45f9f5(0x14b)][_0x45f9f5(0x15e)](),bloqueSeleccionado['padre'][_0x45f9f5(0x14b)]['actualizarCoordenadas'](),bloqueSeleccionado['calcularVerticesBloque']()));}}return;}}else{if(bloqueSeleccionado!=null){transformedX=(mouseX-windowWidth/0x2)/(zoomCodigo*escalaBase)-panCodigoX,transformedY=(mouseY-windowHeight/0x2)/(zoomCodigo*escalaBase)-panCodigoY,bloqueSeleccionado['x']=transformedX+offsetX,bloqueSeleccionado['y']=transformedY+offsetY;bloqueSeleccionado['tipo']=='_'&&bloqueSeleccionado[_0x45f9f5(0x13e)]();seleccion=null,seleccion2=null,seleccion3=null,seleccion4=null;let _0x53ef8b=0x2710,_0x3c802f=0x640;for(let _0x1dd89e of codigo){if(bloqueSeleccionado!=_0x1dd89e){bloqueSeleccionado[_0x45f9f5(0x13d)]=='_'&&_0x1dd89e[_0x45f9f5(0x13d)]=='_'&&(distanciaBloques=distanciaAlCuadrado(bloqueSeleccionado['x']+bloqueSeleccionado['anchoLadoIzqBucle'],bloqueSeleccionado['y'],_0x1dd89e['x'],_0x1dd89e['y']+_0x1dd89e[_0x45f9f5(0x135)]),bloqueSeleccionado[_0x45f9f5(0x142)]!=_0x45f9f5(0x10b)&&distanciaBloques<_0x53ef8b&&distanciaBloques<_0x3c802f&&(_0x53ef8b=distanciaBloques,seleccion=_0x1dd89e),_0x1dd89e[_0x45f9f5(0x172)]==null&&_0x1dd89e[_0x45f9f5(0x14b)]==null&&_0x1dd89e['nombre']!=_0x45f9f5(0x10b)&&(bloqueSeleccionado[_0x45f9f5(0x152)]?bloqueSeleccionado['nombre']==_0x45f9f5(0x16c)?distanciaBloques=distanciaAlCuadrado(bloqueSeleccionado['x']+bloqueSeleccionado[_0x45f9f5(0x12e)],bloqueSeleccionado['y']+bloqueSeleccionado[_0x45f9f5(0x121)]+bloqueSeleccionado['siguiente'][_0x45f9f5(0x121)],_0x1dd89e['x'],_0x1dd89e['y']):distanciaBloques=distanciaAlCuadrado(bloqueSeleccionado['x']+bloqueSeleccionado[_0x45f9f5(0x12e)],bloqueSeleccionado['y']+bloqueSeleccionado['grosorTotal'],_0x1dd89e['x'],_0x1dd89e['y']):distanciaBloques=distanciaAlCuadrado(bloqueSeleccionado['x']+bloqueSeleccionado[_0x45f9f5(0x12e)],bloqueSeleccionado['y']+bloqueSeleccionado[_0x45f9f5(0x135)],_0x1dd89e['x'],_0x1dd89e['y']),distanciaBloques<_0x53ef8b&&distanciaBloques<_0x3c802f&&(_0x53ef8b=distanciaBloques,seleccion4=_0x1dd89e)),bloqueSeleccionado['nombre']!=_0x45f9f5(0x10b)&&_0x1dd89e['bucle']&&_0x1dd89e[_0x45f9f5(0x142)]!=_0x45f9f5(0x17b)&&_0x1dd89e[_0x45f9f5(0x142)]!=_0x45f9f5(0x16c)&&(distanciaBloques=distanciaAlCuadrado(bloqueSeleccionado['x']+bloqueSeleccionado[_0x45f9f5(0x12e)],bloqueSeleccionado['y'],_0x1dd89e['x'],_0x1dd89e['y']+_0x1dd89e[_0x45f9f5(0x121)]),distanciaBloques<_0x53ef8b&&distanciaBloques<_0x3c802f&&(_0x53ef8b=distanciaBloques,seleccion3=_0x1dd89e)));if(bloqueSeleccionado[_0x45f9f5(0x13d)]!='_')for(let _0x3b65a1=0x0;_0x3b65a1<_0x1dd89e[_0x45f9f5(0x106)];_0x3b65a1++){_0x1dd89e[_0x45f9f5(0x127)][_0x3b65a1]==bloqueSeleccionado[_0x45f9f5(0x13d)]&&(distanciaBloques=distanciaAlCuadrado(bloqueSeleccionado['x'],bloqueSeleccionado['y'],_0x1dd89e['x']+_0x1dd89e[_0x45f9f5(0x17d)][_0x3b65a1],_0x1dd89e['y']),distanciaBloques<_0x53ef8b&&distanciaBloques<_0x3c802f&&(_0x53ef8b=distanciaBloques,seleccion2=_0x1dd89e,seleccionSubBloque=_0x3b65a1));}}}}}}}}else{if(modo===0x3){if(panningConfiguracion){panConfiguracionX=constrain(panConfiguracionX,-width/0x2,width/0x2),panConfiguracionY=constrain(panConfiguracionY,-height/0x2,height/0x2),panConfiguracionX+=(mouseX-panStartConfiguracionX)/(zoomConfiguracion*escalaBase),panConfiguracionY+=(mouseY-panStartConfiguracionY)/(zoomConfiguracion*escalaBase),panStartConfiguracionX=mouseX,panStartConfiguracionY=mouseY;return;}transformedXbasico=(mouseX-windowWidth/0x2)/(zoomConfiguracion*escalaBase)-panConfiguracionX,transformedYbasico=(mouseY-windowHeight/0x2)/(zoomConfiguracion*escalaBase)-panConfiguracionY;if(jumperSeleccionado!=null){jumperSeleccionado['x']=transformedXbasico+offsetX,jumperSeleccionado['y']=transformedYbasico+offsetY;return;}else{if(conectorSeleccionado!=null){conectorSeleccionado['x']=transformedXbasico+offsetX,conectorSeleccionado['y']=transformedYbasico+offsetY;return;}}}else{if(modo==0x6){if(draggingScrollBar){let _0x5df1ce=mouseY-dragStartY,_0x33d591=totalThumbnailsHeight-(windowHeight/escalaBase-0x64);offsetYBarra=constrain(offsetYBarra+_0x5df1ce,0x0,_0x33d591),dragStartY=mouseY;}}}}}}function distanciaAlCuadrado(_0x52fe0b,_0x339386,_0x3e8a5c,_0x4fd298){let _0x4c3953=_0x52fe0b-_0x3e8a5c,_0x403fa7=_0x339386-_0x4fd298;return _0x4c3953*_0x4c3953+_0x403fa7*_0x403fa7;}function mouseReleased(){const _0x2ec021=a0_0x19cd;if(!appLista)return;if(modo==0x5){panningSimulacion=![],desplazandoBulb=![],elemento[0x4]['valorElemento']=0x0,elemento[0x6]['valorElemento']=0x0;if(obstaculoDesplazando!=null)mouseX==mouseOrigenX&&mouseY==mouseOrigenY&&(obstaculoSeleccionado=obstaculoDesplazando,robotSeleccionado=null),Matter[_0x2ec021(0x134)][_0x2ec021(0x130)](obstaculoDesplazando['body'],{'x':RectX,'y':RectY}),obstaculoDesplazando[_0x2ec021(0x13b)]=RectX,obstaculoDesplazando[_0x2ec021(0x159)]=RectY,Matter[_0x2ec021(0x134)][_0x2ec021(0x12b)](obstaculoDesplazando[_0x2ec021(0x120)],{'x':0x0,'y':0x0}),Matter[_0x2ec021(0x134)]['setAngularVelocity'](obstaculoDesplazando['body'],0x0),obstaculoDesplazando=null;else{if(obstaculoSeleccionado!=null)obstaculoSeleccionado[_0x2ec021(0x143)]=obstaculoSeleccionado[_0x2ec021(0x11c)],obstaculoSeleccionado[_0x2ec021(0x11d)]=obstaculoSeleccionado[_0x2ec021(0x175)],obstaculoSeleccionado[_0x2ec021(0x15d)]=obstaculoSeleccionado[_0x2ec021(0x120)]['angle'],Matter[_0x2ec021(0x134)][_0x2ec021(0x12b)](obstaculoSeleccionado[_0x2ec021(0x120)],{'x':0x0,'y':0x0}),Matter[_0x2ec021(0x134)][_0x2ec021(0x158)](obstaculoSeleccionado[_0x2ec021(0x120)],0x0);else{if(desplazandoRobot){if(mouseX==mouseOrigenX&&mouseX==mouseOrigenX)robotSeleccionado=!![];Matter[_0x2ec021(0x134)][_0x2ec021(0x130)](robotFisico[_0x2ec021(0x120)],{'x':CrumX,'y':CrumY}),robotFisico['body'][_0x2ec021(0x10f)]=![],Matter[_0x2ec021(0x134)][_0x2ec021(0x12b)](robotFisico['body'],{'x':0x0,'y':0x0}),Matter[_0x2ec021(0x134)][_0x2ec021(0x158)](robotFisico[_0x2ec021(0x120)],0x0),desplazandoRobot=![];}else{if(robotSeleccionado&&resultadoSeleccion==0x1)resultadoSeleccion=0x0,robotSeleccionado=![];else desplazandoBulb&&(desplazandoBulb=![]);}}}}else{if(modo==0x3){elemento[0x4]['valorElemento']=0x0,elemento[0x6][_0x2ec021(0x168)]=0x0;if(panningConfiguracion)panningConfiguracion=![];else{if(jumperSeleccionado!=null)jumperSeleccionado[_0x2ec021(0x111)](),jumperSeleccionado=null;else conectorSeleccionado!=null&&(conectorSeleccionado['conectar'](),conectorSeleccionado=null);}}else{if(modo==0x4){panningCodigo=![],panningMenuBloques=![],desplazandoVentanaColor=![];if(bloqueSeleccionado!=null){transformedXbasico=mouseX/escalaBase+offsetX,transformedYbasico=mouseY/escalaBase+offsetY;if(transformedXbasico<anchoRect&&transformedYbasico<altoMenu[menu]||transformedYbasico<ALTO_MENU_SUPERIOR){if(bloqueSeleccionado[_0x2ec021(0x142)]==='WhenRunBlock'){let _0x4f45f6=-0x1;for(let _0x205e6b=0x0;_0x205e6b<bloquesStart['length'];_0x205e6b++){if(bloquesStart[_0x205e6b]===bloqueSeleccionado){_0x4f45f6=_0x205e6b;break;}}if(_0x4f45f6>-0x1)bloquesStart[_0x2ec021(0x103)](_0x4f45f6,0x1);}eliminarBloques(),bloquesSeleccionados=[];}else{if(!inicioDesplazarBloque){if(seleccion4!=null)bloquesSeleccionados[bloquesSeleccionados[_0x2ec021(0x12f)]-0x1][_0x2ec021(0x118)]=seleccion4,seleccion4[_0x2ec021(0x172)]=bloquesSeleccionados[bloquesSeleccionados[_0x2ec021(0x12f)]-0x1],bloqueSeleccionado[_0x2ec021(0x142)]==_0x2ec021(0x10b)?bloqueSeleccionado['x']=seleccion4['x']-bloqueSeleccionado['anchoLadoIzqBucle']:bloqueSeleccionado['x']=seleccion4['x'],bloqueSeleccionado['y']=seleccion4['y']-grosorBloquesSeleccionados,bloqueSeleccionado[_0x2ec021(0x13e)]();else{if(seleccion3!=null)conectar(bloqueSeleccionado,seleccion3,![]);else{if(seleccion2!=null&&bloqueSeleccionado[_0x2ec021(0x13d)]==seleccion2[_0x2ec021(0x127)][seleccionSubBloque])seleccion2[_0x2ec021(0x138)](seleccionSubBloque,bloqueSeleccionado);else seleccion!=null&&seleccion[_0x2ec021(0x13d)]=='_'&&bloqueSeleccionado['tipo']=='_'&&conectar(bloqueSeleccionado,seleccion,!![]);}}}}(bloqueStartSeleccionado!=null&&bloqueStartSeleccionado!=undefined&&bloqueEjecutando!=bloqueStartSeleccionado||ejecutando)&&(alert(_0x2ec021(0x14d)),ejecutando=![],botonReiniciar()),(seleccion!=null||seleccion2!=null||seleccion3!=null||seleccion4!=null)&&(seleccion=null,seleccion2=null,seleccion3=null,seleccion4=null),!desplegableBloque&&(bloqueSeleccionado=null,bloquesSeleccionados=[]);}}else modo==0x6&&(draggingScrollBar=![]);}}modo==0x4||modo==0x6||modo==0x3&&ejecutando==![]||modo==0x5&&!ejecutando?(redraw(),noLoop()):loop();}function a0_0x21c4(){const _0x59403c=['ensanchar','num','anterior','desconectar','80SxPiOc','alto','crearInput','forEach','querySelector','DoTimesBlock','\x20\x20\x20','DoForeverBlock','seleccionBloquesDependientes','xDato','RandomBlock','6ykbxSa','contienePunto','alargar','SetAllSparklesRGBBlock','SetSprakleRGBBlock','log','padreClon','colisionDatos','splice','170835GvBiCr','left','numDatos','borrarVariables','My\x20Var','âŒ\x20Toque\x20fuera\x20del\x20canvas','bottom','WhenRunBlock','collisionFilter','eliminarBloque','mask','isStatic','AxTexto','conectar','getElementById','valorNumerico','SubBlock','value','subBloque','yPrevio','siguiente','WaitBlock','Robot\x20fuera\x20de\x20los\x20lÃ­mites\x20del\x20mundo','angle','ancho','altoInicio','pixelDensity','categoria','body','grosorTotal','width','calcularVerticesBloque','ignoreRay','5EmXPPl','LessThanBlock','tipoDato','SmartPitchBlock','260844ZeZfEK','clonarBloque','setVelocity','colision','hide','anchoLadoIzqBucle','length','setPosition','anteriorClon','getBoundingClientRect','870572iGsSXi','Body','grosorBloque','top','setAngle','addSubBloque','texto','AddNewVariableButton','xInicio','calculoDimensiones','tipo','actualizarCoordenadas','setSize','indexOf','5894640XOasVg','nombre','anchoInicio','bucleSiguienteClon','variablePadre','substring','MultiplyBlock','SmartDigitsBlock','1156837IMMTjn','ultrasonidosConectado','padre','3175956zlwSGr','Al\x20modifcar\x20los\x20bloques\x20el\x20robot\x20se\x20ha\x20reinicializado','AxDato','80548LXPkhc','HECHO','height','bucle','clear','delta','SetTempoBlock','canvas','ðŸŽ¯\x20Toque\x20en\x20CANVAS\x20convertido:','setAngularVelocity','yInicio','1CizDBK','MotorBlock','ðŸ“±\x20TOUCH:','anguloInicio','calculoGrosorBucle','push','potMotor','ðŸ“\x20Toque\x20en\x20MENÃš,\x20ignorar\x20para\x20canvas','assets/images/escenarios/','60ItagQO','ElseBlock','boton','calculoAnchoDato','siguienteClon','valorElemento','modoTransformacion','position','dato','IfElseBlock','amp','TurnSprakleOffBlock','actualizarNombreVariables'];a0_0x21c4=function(){return _0x59403c;};return a0_0x21c4();}function keyPressed(){const _0x2564af=a0_0x19cd;if(!appLista)return;if(modo==0x5){if(key=='\x20'){ejecutando?botonStop():botonPlay();return;}if(key=='r'||key=='R'){botonReset();return;}keyCode===0x1b&&cerrarMenus();if(keyCode==DELETE||keyCode==BACKSPACE){obstaculoSeleccionado!=null&&(eliminarObstaculo(obstaculoSeleccionado),obstaculoSeleccionado=null);return;}}else{if(modo==0x4){if(modo==0x4&&bloqueEditando!=null&&!colorPickerOpen){if(keyCode==BACKSPACE)textoTemporal[_0x2564af(0x12f)]>0x0&&(textoTemporal=textoTemporal[_0x2564af(0x146)](0x0,textoTemporal['length']-0x1));else{if(keyCode==ENTER||keyCode==RETURN||keyCode==ESCAPE)cerrarEdicionTexto();else{if(textoTemporal[_0x2564af(0x12f)]<maximoCaracteres){if(bloqueEditando['nombre']!='VariableBlock')(key>='0'&&key<='9'||key=='.'||key=='-')&&(textoTemporal+=key);else(key>='0'&&key<='9'||key>='a'&&key<='z'||key>='A'&&key<='Z'||key==='.'||key==='-')&&(textoTemporal+=key);}}}return;}if(keyCode==DELETE||keyCode==BACKSPACE){if(modo==0x3&&bloqueSeleccionado!=null){eliminarBloques(),bloquesSeleccionados=[],desplegableBloque=![];return;}else modo==0x5&&obstaculoSeleccionado!=null&&(eliminarObstaculo(obstaculoSeleccionado),obstaculoSeleccionado=null);}if(keyCode==0x3d&&(keyIsDown(CONTROL)||keyIsDown(0x5b))){zoom(0.25);return;}if(keyCode==0xad&&(keyIsDown(CONTROL)||keyIsDown(0x5b))){zoom(-0.25);return;}}}}function eliminarObstaculo(_0x5dd7c8){const _0x4da8e8=a0_0x19cd;if(!_0x5dd7c8)return;World['remove'](world,obstaculoSeleccionado[_0x4da8e8(0x120)]);let _0x58000a=obstaculo['indexOf'](obstaculoSeleccionado);if(_0x58000a!==-0x1)obstaculo[_0x4da8e8(0x103)](_0x58000a,0x1);obstaculoSeleccionado=null,redraw();}function eliminarBloques(){const _0x539a07=a0_0x19cd;for(let _0x3a2f79 of bloquesSeleccionados)_0x3a2f79[_0x539a07(0x10d)]();redraw();}function cerrarEdicionTexto(){const _0x528ace=a0_0x19cd;textoTemporal=input[_0x528ace(0x115)]();if(!(bloqueEditando[_0x528ace(0x11f)]===0x3&&bloqueEditando['id']>0x3)){if(esNumeroReal(textoTemporal)){let _0x545c2f=parseFloat(textoTemporal);if(bloqueEditando[_0x528ace(0x142)]===_0x528ace(0x15b)){if(_0x545c2f>0x64)_0x545c2f=0x64;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}else{if(bloqueEditando[_0x528ace(0x142)]==='ServoBlock'||bloqueEditando[_0x528ace(0x142)]==='ServoBlockType'){if(_0x545c2f>0x5a)_0x545c2f=0x5a;else{if(_0x545c2f<-0x5a)_0x545c2f=-0x5a;}}else{if(bloqueEditando[_0x528ace(0x142)]==='SetSprakleBlock'||bloqueEditando[_0x528ace(0x142)]===_0x528ace(0x16e)||bloqueEditando[_0x528ace(0x142)]===_0x528ace(0xff)&&subBloqueEditando===0x0){if(_0x545c2f>0x1f)_0x545c2f=0x1f;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}else{if(bloqueEditando[_0x528ace(0x142)]==='SetSprakleRGBBlock'&&(subBloqueEditando===0x1||subBloqueEditando===0x2||subBloqueEditando===0x3)||bloqueEditando[_0x528ace(0x142)]===_0x528ace(0xfe)){if(_0x545c2f>0xff)_0x545c2f=0xff;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}else{if(bloqueEditando[_0x528ace(0x142)]===_0x528ace(0x119)||bloqueEditando[_0x528ace(0x142)]==='WaitMSBlock'||bloqueEditando['nombre']===_0x528ace(0x179)){if(_0x545c2f>0x7fff)_0x545c2f=0x7fff;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}else{if(bloqueEditando[_0x528ace(0x142)]==='AddBlock'||bloqueEditando[_0x528ace(0x142)]===_0x528ace(0x114)||bloqueEditando[_0x528ace(0x142)]===_0x528ace(0x147)||bloqueEditando[_0x528ace(0x142)]==='DivideBlock'){if(_0x545c2f>0x7fff)_0x545c2f=0x7fff;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}else{if(bloqueEditando['nombre']==='EqualityBlock'||bloqueEditando[_0x528ace(0x142)]==='NotEqualBlock'||bloqueEditando['nombre']===_0x528ace(0x126)||bloqueEditando[_0x528ace(0x142)]==='GreaterThanBlock'||bloqueEditando['nombre']===_0x528ace(0x17e)){if(_0x545c2f>0x7fff)_0x545c2f=0x7fff;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}else{if(bloqueEditando[_0x528ace(0x142)]===_0x528ace(0x148)){if(_0x545c2f>0x7fff)_0x545c2f=0x7fff;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}else{if(bloqueEditando[_0x528ace(0x142)]===_0x528ace(0x128)){if(_0x545c2f>0x4e20)_0x545c2f=0x4e20;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}else{if(bloqueEditando[_0x528ace(0x142)]===_0x528ace(0x155)){if(_0x545c2f>0x12c)_0x545c2f=0x12c;else{if(_0x545c2f<0x0)_0x545c2f=0x0;}}}}}}}}}}}bloqueEditando[_0x528ace(0x142)]==='WaitBlock'?textoTemporal=String(_0x545c2f):textoTemporal=String(Math['floor'](_0x545c2f)),bloqueEditando[_0x528ace(0x16b)][subBloqueEditando]=textoTemporal,bloqueEditando[_0x528ace(0x14e)][subBloqueEditando]=bloqueEditando[_0x528ace(0x166)](bloqueEditando['dato'][subBloqueEditando]),bloqueEditando[_0x528ace(0x13c)](),bloqueEditando[_0x528ace(0x123)]();}}else{if(textoTemporal['replace'](/ /g,'')[_0x528ace(0x12f)]>0x0){bloqueEditando['texto'][0x0]=textoTemporal,bloqueEditando[_0x528ace(0x110)][0x0]=bloqueEditando['calculoAnchoDato'](bloqueEditando[_0x528ace(0x139)][0x0]),bloqueEditando['calculoDimensiones'](),bloqueEditando[_0x528ace(0x118)]['x']=bloqueEditando['x']+bloqueEditando[_0x528ace(0x11c)]+0xa,bloqueEditando[_0x528ace(0x118)][_0x528ace(0x118)]['x']=bloqueEditando['siguiente']['x']+bloqueEditando[_0x528ace(0x118)]['ancho']+0xa;let _0x59e761=bloqueEditando[_0x528ace(0x118)][_0x528ace(0x118)];_0x59e761['x']+_0x59e761[_0x528ace(0x11c)]+0x5>anchoMenu[0x3]&&(anchoMenu[0x3]=_0x59e761['x']+_0x59e761['ancho']+0x5);for(let _0x5a2045 of codigo){_0x5a2045[_0x528ace(0x16f)](bloqueEditando);}}}input[_0x528ace(0x12d)](),bloqueEditando=null,bloqueStartSeleccionado!=null&&bloqueStartSeleccionado!=undefined&&bloqueEjecutando!=bloqueStartSeleccionado&&(alert(_0x528ace(0x14d)),botonReiniciar()),redraw();}function mouseWheel(_0x36555f){const _0x121d77=a0_0x19cd;if(!appLista)return;if(modo==0x5){let _0x5ba903=1.1,_0x4b6ae7=(mouseX-windowWidth/0x2)/(zoomSimulacion*escalaBase)-panSimulacionX,_0x4055a9=(mouseY-windowHeight/0x2)/(zoomSimulacion*escalaBase)-panSimulacionY;_0x36555f['delta']>0x0?zoomSimulacion/=_0x5ba903:zoomSimulacion*=_0x5ba903;zoomSimulacion=constrain(zoomSimulacion,0.1,0x3);let _0x20f9d5=(mouseX-windowWidth/0x2)/(zoomSimulacion*escalaBase)-panSimulacionX,_0x34380e=(mouseY-windowHeight/0x2)/(zoomSimulacion*escalaBase)-panSimulacionY;panSimulacionX+=_0x20f9d5-_0x4b6ae7,panSimulacionY+=_0x34380e-_0x4055a9;}else{if(modo==0x4){let _0x5edc85=1.1,_0x243aa6=(mouseX-windowWidth/0x2)/(zoomCodigo*escalaBase)-panCodigoX,_0x402c6c=(mouseY-windowHeight/0x2)/(zoomCodigo*escalaBase)-panCodigoY;_0x36555f[_0x121d77(0x154)]>0x0?zoomCodigo/=_0x5edc85:zoomCodigo*=_0x5edc85;zoomCodigo=constrain(zoomCodigo,0.5,0x3);let _0x2435fb=(mouseX-windowWidth/0x2)/(zoomCodigo*escalaBase)-panCodigoX,_0x475ba2=(mouseY-windowHeight/0x2)/(zoomCodigo*escalaBase)-panCodigoY;panCodigoX+=_0x2435fb-_0x243aa6,panCodigoY+=_0x475ba2-_0x402c6c;}else{if(modo==0x6){offsetYBarra+=_0x36555f[_0x121d77(0x154)]*0.5;let _0x45b4ee=totalThumbnailsHeight-(windowHeight/escalaBase-0x64);offsetYBarra=constrain(offsetYBarra,0x0,_0x45b4ee);}}}return![];}function zoom(_0x337bc1){const _0x3344fc=a0_0x19cd;if(modo===0x3)zoomConfiguracion=zoomConfiguracion+_0x337bc1,zoomConfiguracion=constrain(zoomConfiguracion,0.5,1.5);else{if(modo===0x4)zoomCodigo=zoomCodigo+_0x337bc1,zoomCodigo=constrain(zoomCodigo,0.5,1.5);else modo===0x5&&(zoomSimulacion=zoomSimulacion+_0x337bc1,zoomSimulacion=constrain(zoomSimulacion,0.25,1.5),robot[_0x3344fc(0x14a)]&&(radio=0x0,bufferEfectos[_0x3344fc(0x153)]()));}}function cargarFondo(){const _0x5524b5=a0_0x19cd;loadImage(_0x5524b5(0x162)+nombreFondo,_0x58c2aa=>{const _0x479a3a=_0x5524b5;anchoTapete=_0x58c2aa[_0x479a3a(0x122)],altoTapete=_0x58c2aa[_0x479a3a(0x151)],fondo=createGraphics(anchoTapete,altoTapete),fondo[_0x479a3a(0x11e)](0x1),fondo['background'](0xff),fondo['image'](_0x58c2aa,0x0,0x0,anchoTapete,altoTapete),Matter[_0x479a3a(0x134)][_0x479a3a(0x130)](laterales[0x0][_0x479a3a(0x120)],{'x':0x0,'y':-altoTapete/0x2-0xa}),laterales[0x0][_0x479a3a(0x13f)](anchoTapete+0x28,0x14),Matter['Body'][_0x479a3a(0x130)](laterales[0x1]['body'],{'x':0x0,'y':altoTapete/0x2+0xa}),laterales[0x1][_0x479a3a(0x13f)](anchoTapete+0x28,0x14),Matter[_0x479a3a(0x134)][_0x479a3a(0x130)](laterales[0x2]['body'],{'x':-anchoTapete/0x2-0xa,'y':0x0}),laterales[0x2]['setSize'](0x14,altoTapete),Matter[_0x479a3a(0x134)][_0x479a3a(0x130)](laterales[0x3][_0x479a3a(0x120)],{'x':anchoTapete/0x2+0xa,'y':0x0}),laterales[0x3][_0x479a3a(0x13f)](0x14,altoTapete),laterales[_0x479a3a(0x177)](_0x58ac1e=>{const _0x47460b=_0x479a3a,_0x4e8378=_0x58ac1e['body'];!_0x4e8378[_0x47460b(0x10c)]&&(_0x4e8378[_0x47460b(0x10c)]={'category':0x1,'mask':0xffffffff,'group':0x0}),_0x4e8378['collisionFilter'][_0x47460b(0x10e)]=lateralesVisibles?0xffffffff:0x0,_0x4e8378[_0x47460b(0x124)]=!lateralesVisibles;}),modo=0x5;return;});}function botonPlay(){const _0x4e21a4=a0_0x19cd;bloqueEjecutando!=null&&(ejecutando=!![],robotFisico[_0x4e21a4(0x120)][_0x4e21a4(0x10f)]=![],robotFisico['xPrevio']=robotFisico[_0x4e21a4(0x120)][_0x4e21a4(0x16a)]['x'],robotFisico[_0x4e21a4(0x117)]=robotFisico[_0x4e21a4(0x120)]['position']['y'],crearMenuSuperior());}function botonStop(){const _0x5d8b97=a0_0x19cd;robotFisico[_0x5d8b97(0x120)][_0x5d8b97(0x10f)]=!![],ejecutando=![],crearMenuSuperior();}function botonReiniciar(){const _0x54733f=a0_0x19cd;for(let _0x23588e of codigoVariables){_0x23588e[_0x54733f(0x16b)][0x0]='0',_0x23588e[_0x54733f(0x113)]=0x0;}Matter['Body']['setPosition'](robotFisico[_0x54733f(0x120)],{'x':robotFisico[_0x54733f(0x13b)],'y':robotFisico[_0x54733f(0x159)]}),robotFisico[_0x54733f(0x120)]['angle']=robotFisico['anguloInicio'],Body[_0x54733f(0x12b)](robotFisico[_0x54733f(0x120)],0x0),Body[_0x54733f(0x158)](robotFisico[_0x54733f(0x120)],0x0);if(obstaculo!=null&&obstaculo!=undefined)for(let _0x303217 of obstaculo){Matter['Body']['setPosition'](_0x303217['body'],{'x':_0x303217[_0x54733f(0x13b)],'y':_0x303217[_0x54733f(0x159)]}),_0x303217[_0x54733f(0x120)][_0x54733f(0x11b)]=_0x303217[_0x54733f(0x15d)],_0x303217[_0x54733f(0x13f)](_0x303217[_0x54733f(0x143)],_0x303217[_0x54733f(0x11d)]);}bloqueStartSeleccionado!=null&&bloqueStartSeleccionado!=undefined&&(bloqueEjecutando=bloqueStartSeleccionado);bloqueSeleccionado=null,movidoDuranteEjecucion=![],esperarUnCiclo=![],saltoIfElse=![],miliSegundos=0x0,Crono=0x0,Distancia=0x0,robotFisico['potMotor'][0x0]=0x0,robotFisico[_0x54733f(0x160)][0x1]=0x0,Body[_0x54733f(0x12b)](robotFisico['body'],{'x':0x0,'y':0x0}),Body[_0x54733f(0x158)](robotFisico['body'],0x0),isBeeping=![],osc[_0x54733f(0x16d)](0x0,0.1);for(let _0x2ccde4=0x0;_0x2ccde4<colorLED['length'];_0x2ccde4++){colorLED[_0x2ccde4]=null;}for(let _0x61fb20 of codigoVariables){_0x61fb20[_0x54733f(0x16b)][0x0]='0';}crearMenuSuperior();}